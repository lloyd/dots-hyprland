# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is end_4's Hyprland dotfiles repository, featuring the "illogical-impulse" theme powered by Quickshell. It's a comprehensive dotfiles setup for Arch Linux systems using Hyprland as the compositor with Quickshell providing the widget system for status bars, sidebars, and other UI elements.

## Architecture

- **Primary widget system**: Quickshell (QtQuick-based) - actively maintained
- **Legacy widget system**: AGS (deprecated, limited support) - available in `ii-ags` branch
- **Target OS**: Arch Linux and Arch-based distributions only
- **Package management**: Uses custom meta packages in `arch-packages/` directory
- **Installation system**: Bash-based installer with interactive confirmation system

## Key Components

### Installation System
- `install.sh` - Main installation script with backup capabilities
- `scriptdata/` - Contains installation logic, functions, and configuration
  - `functions` - Core bash functions for installation prompts and execution
  - `dependencies.conf` - Extra dependencies (main deps are in meta packages)
  - `installers` - Package installation logic
  - `options` - Configuration options

### Package Structure
- `arch-packages/` - Custom meta packages for different components:
  - `illogical-impulse-basic/` - Core dependencies
  - `illogical-impulse-widgets/` - Widget system packages
  - `illogical-impulse-hyprland/` - Hyprland-specific packages
  - Other specialized packages for audio, fonts, themes, etc.

## Common Commands

### Installation and Setup
```bash
# Main installation (interactive)
./install.sh

# Update existing installation
./update.sh

# Uninstall
./uninstall.sh

# Manual installation helper
./manual-install-helper.sh

# Check dependencies
./scriptdata/checkdeps.sh

# Diagnose issues
./diagnose
```

### Branch Management
```bash
# Switch to legacy AGS version
git checkout ii-ags && ./install.sh

# Return to main Quickshell version
git checkout main
```

## Development Notes

- No traditional build/test commands - this is a dotfiles repository
- Installation uses `yay` package manager for AUR packages
- All commands are shown before execution with confirmation prompts
- Backup system available for `$XDG_CONFIG_HOME` and `$HOME/.local/`
- Dependencies are managed through PKGBUILD files in meta packages

## Key Features

- AI integration (Gemini API and Ollama models)
- Autogenerated Material Design colors based on wallpaper
- Live window previews and search functionality
- Transparent installation process with user confirmations
- Comprehensive theming system

## Important Files

- `README.md` - Main documentation with screenshots and feature overview
- `scriptdata/dependencies.conf` - Additional dependencies configuration
- `scriptdata/environment-variables` - Environment setup
- `CONTRIBUTING.md` - Contribution guidelines
- `licenses/` - License information for different components